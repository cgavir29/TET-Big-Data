#!/bin/sh
aws emr create-cluster --auto-scaling-role EMR_AutoScaling_DefaultRole --termination-protected --applications Name=Hadoop Name=Hive Name=Hue Name=Spark Name=Zeppelin Name=Tez Name=Sqoop Name=Livy Name=Oozie Name=TensorFlow --ebs-root-volume-size 10 --ec2-attributes '{"KeyName":"tet-bd","InstanceProfile":"EMR_EC2_DefaultRole","SubnetId":"subnet-0ef7512552648e9fd","EmrManagedSlaveSecurityGroup":"sg-06f0fff95265b4ada","EmrManagedMasterSecurityGroup":"sg-03401c90ea549080f"}' --service-role EMR_DefaultRole --enable-debugging --release-label emr-5.29.0 --log-uri 's3n://aws-logs-170888352581-us-east-1/elasticmapreduce/' --name 'tet-emr-1' --instance-groups '[{"InstanceCount":2,"EbsConfiguration":{"EbsBlockDeviceConfigs":[{"VolumeSpecification":{"SizeInGB":32,"VolumeType":"gp2"},"VolumesPerInstance":2}]},"InstanceGroupType":"CORE","InstanceType":"m4.xlarge","Name":"Core - 2"},{"InstanceCount":1,"EbsConfiguration":{"EbsBlockDeviceConfigs":[{"VolumeSpecification":{"SizeInGB":32,"VolumeType":"gp2"},"VolumesPerInstance":2}]},"InstanceGroupType":"MASTER","InstanceType":"m4.xlarge","Name":"Master - 1"}]' --scale-down-behavior TERMINATE_AT_TASK_COMPLETION --region us-east-1
